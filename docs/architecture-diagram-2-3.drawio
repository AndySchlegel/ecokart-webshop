<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/26.2 Safari/605.1.15" version="29.2.9">
  <diagram name="AWS Architecture" id="aws-architecture">
    <mxGraphModel dx="2182" dy="1217" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" background="#ffffff" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;fontColor=#1a1a1a;" value="AIR LEGACY E-Commerce Platform - AWS Architecture" vertex="1">
          <mxGeometry height="40" width="800" x="400" y="20" as="geometry" />
        </mxCell>
        <mxCell id="layer-cicd" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fef2f2;strokeColor=#ef4444;fontSize=14;fontStyle=1;verticalAlign=top;align=center;strokeWidth=2;" value="DEPLOYMENT &amp; CI/CD PIPELINE" vertex="1">
          <mxGeometry height="120" width="1270" x="80" y="80" as="geometry" />
        </mxCell>
        <mxCell id="github" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#24292e;strokeColor=#ffffff;fontColor=#ffffff;fontSize=11;fontStyle=1;" value="GitHub&#xa;Source Code" vertex="1">
          <mxGeometry height="60" width="100" x="140" y="110" as="geometry" />
        </mxCell>
        <mxCell id="github-actions" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2088ff;strokeColor=#ffffff;fontColor=#ffffff;fontSize=11;fontStyle=1;" value="GitHub Actions&#xa;CI/CD" vertex="1">
          <mxGeometry height="60" width="120" x="300" y="110" as="geometry" />
        </mxCell>
        <mxCell id="security-scans" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1fae5;strokeColor=#10b981;fontSize=11;fontStyle=1;strokeWidth=2;" value="SECURITY SCANS&lt;br&gt;&lt;div style=&quot;text-align: left;&quot;&gt;ðŸ”’ tfsec  ðŸ›¡ï¸ Checkov  ðŸ” Trufflehog&lt;/div&gt;" vertex="1">
          <mxGeometry height="60" width="360" x="480" y="110" as="geometry" />
        </mxCell>
        <mxCell id="terraform" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7b42bc;strokeColor=#ffffff;fontColor=#ffffff;fontSize=11;fontStyle=1;" value="Terraform&#xa;Infrastructure" vertex="1">
          <mxGeometry height="60" width="120" x="900" y="110" as="geometry" />
        </mxCell>
        <mxCell id="oidc-role" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#10b981;strokeColor=#ffffff;fontColor=#ffffff;fontSize=10;fontStyle=1;" value="IAM OIDC Role&#xa;(No Keys!)" vertex="1">
          <mxGeometry height="60" width="100" x="1060" y="110" as="geometry" />
        </mxCell>
        <mxCell id="aws-deploy" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FF9900;strokeColor=#ffffff;fontColor=#ffffff;fontSize=11;fontStyle=1;" value="AWS&#xa;Deploy" vertex="1">
          <mxGeometry height="60" width="100" x="1190" y="110" as="geometry" />
        </mxCell>
        <mxCell id="conn-github-actions" edge="1" parent="1" source="github" target="github-actions">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-actions-scans" edge="1" parent="1" source="github-actions" target="security-scans">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-scans-terraform" edge="1" parent="1" source="security-scans" target="terraform">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-terraform-oidc" edge="1" parent="1" source="terraform" target="oidc-role">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-oidc-aws" edge="1" parent="1" source="oidc-role" target="aws-deploy">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="layer-frontend" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fef3c7;strokeColor=#f59e0b;fontSize=14;fontStyle=1;verticalAlign=top;align=center;strokeWidth=2;" value="FRONTEND LAYER" vertex="1">
          <mxGeometry height="140" width="1270" x="80" y="240" as="geometry" />
        </mxCell>
        <mxCell id="user-customer" parent="1" style="shape=actor;whiteSpace=wrap;html=1;fillColor=#3b82f6;strokeColor=#1e40af;fontColor=#ffffff;fontSize=11;fontStyle=1;" value="&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Customer&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="85" x="430" y="255" as="geometry" />
        </mxCell>
        <mxCell id="user-admin" parent="1" style="shape=actor;whiteSpace=wrap;html=1;fillColor=#dc2626;strokeColor=#991b1b;fontColor=#ffffff;fontSize=11;fontStyle=1;" value="&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Admin&lt;/div&gt;" vertex="1">
          <mxGeometry height="90" width="85" x="800" y="255" as="geometry" />
        </mxCell>
        <mxCell id="amplify-shop" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.amplify;" value="Amplify Shop&#xa;shop.aws.his4irness23.de&#xa;&#xa;Next.js 14" vertex="1">
          <mxGeometry height="80" width="80" x="140" y="260" as="geometry" />
        </mxCell>
        <mxCell id="amplify-admin" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.amplify;" value="Amplify Admin&#xa;admin.aws.his4irness23.de&#xa;&#xa;Next.js 14" vertex="1">
          <mxGeometry height="80" width="80" x="1080" y="260" as="geometry" />
        </mxCell>
        <mxCell id="conn-customer-shop" edge="1" parent="1" source="user-customer" target="amplify-shop">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-admin-admin" edge="1" parent="1" source="user-admin" target="amplify-admin">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="layer-api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dbeafe;strokeColor=#3b82f6;fontSize=14;fontStyle=1;verticalAlign=top;align=center;strokeWidth=2;" value="API &amp; AUTHENTICATION LAYER" vertex="1">
          <mxGeometry height="170" width="1270" x="80" y="420" as="geometry" />
        </mxCell>
        <mxCell id="route53" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.route_53;" value="Route53&#xa;DNS" vertex="1">
          <mxGeometry height="70" width="70" x="145" y="460" as="geometry" />
        </mxCell>
        <mxCell id="acm" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.certificate_manager_3;" value="ACM&#xa;SSL Certs" vertex="1">
          <mxGeometry height="70" width="70" x="340" y="460" as="geometry" />
        </mxCell>
        <mxCell id="api-gateway" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" value="API Gateway&#xa;api.aws.his4irness23.de&#xa;&#xa;REST API" vertex="1">
          <mxGeometry height="70" width="70" x="590" y="460" as="geometry" />
        </mxCell>
        <mxCell id="cognito" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;" value="Cognito&#xa;User Pool&#xa;Admin Group" vertex="1">
          <mxGeometry height="70" width="70" x="850" y="460" as="geometry" />
        </mxCell>
        <mxCell id="cloudfront" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudfront;" value="CloudFront&#xa;Assets CDN" vertex="1">
          <mxGeometry height="70" width="70" x="1080" y="460" as="geometry" />
        </mxCell>
        <mxCell id="conn-shop-route53" edge="1" parent="1" source="amplify-shop" target="route53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-admin-route53" edge="1" parent="1" source="amplify-admin" style="entryX=0.955;entryY=-0.023;entryDx=0;entryDy=0;entryPerimeter=0;" target="route53">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1120" y="400" />
              <mxPoint x="390" y="400" />
              <mxPoint x="212" y="400" />
            </Array>
            <mxPoint x="210" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn-route53-acm" edge="1" parent="1" source="route53" style="dashed=1;strokeColor=#DD344C;" target="acm">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-route53-apigw" edge="1" parent="1" source="route53" target="api-gateway">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-apigw-cognito" edge="1" parent="1" source="api-gateway" style="dashed=1;strokeColor=#10b981;" target="cognito">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="layer-backend" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d1fae5;strokeColor=#10b981;fontSize=14;fontStyle=1;verticalAlign=top;align=center;strokeWidth=2;" value="BACKEND &amp; DATA LAYER" vertex="1">
          <mxGeometry height="200" width="1270" x="80" y="620" as="geometry" />
        </mxCell>
        <mxCell id="dynamodb" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" value="DynamoDB&#xa;4 Tables&#xa;3 GSI" vertex="1">
          <mxGeometry height="70" width="70" x="170" y="660" as="geometry" />
        </mxCell>
        <mxCell id="eventbridge" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.eventbridge;" value="EventBridge&#xa;Daily Security Scan&#xa;(8 AM UTC)" vertex="1">
          <mxGeometry height="70" width="70" x="380" y="700" as="geometry" />
        </mxCell>
        <mxCell id="lambda" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" value="Lambda Backend&#xa;Express.js&#xa;Node.js 20&#xa;16 REST Endpoints" vertex="1">
          <mxGeometry height="80" width="80" x="585" y="660" as="geometry" />
        </mxCell>
        <mxCell id="cloudwatch" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch_2;" value="CloudWatch&#xa;Logs" vertex="1">
          <mxGeometry height="70" width="70" x="815" y="700" as="geometry" />
        </mxCell>
        <mxCell id="s3" parent="1" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" value="S3 Bucket&#xa;Images + Assets" vertex="1">
          <mxGeometry height="70" width="70" x="1020" y="660" as="geometry" />
        </mxCell>
        <mxCell id="conn-apigw-lambda" edge="1" parent="1" source="api-gateway" target="lambda">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-cloudfront-s3" edge="1" parent="1" source="cloudfront" target="s3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-lambda-dynamodb" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="585" y="679.9951162790696" as="sourcePoint" />
            <mxPoint x="230" y="684.1230232558139" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn-lambda-cognito" edge="1" parent="1" source="lambda" style="dashed=1;strokeColor=#10b981;" target="cognito">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="760" y="660" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="conn-lambda-eventbridge" edge="1" parent="1" source="lambda" target="eventbridge">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-lambda-cloudwatch" edge="1" parent="1" source="lambda" target="cloudwatch">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-lambda-s3" edge="1" parent="1" style="entryX=-0.057;entryY=0.271;entryDx=0;entryDy=0;entryPerimeter=0;" target="s3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="665" y="679.9961904761903" as="sourcePoint" />
            <mxPoint x="1010" y="684.1033333333332" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="layer-external" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e8ff;strokeColor=#a855f7;fontSize=14;fontStyle=1;verticalAlign=top;align=center;strokeWidth=2;" value="EXTERNAL SERVICES" vertex="1">
          <mxGeometry height="140" width="1270" x="80" y="860" as="geometry" />
        </mxCell>
        <mxCell id="resend" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0EA5E9;strokeColor=none;fontColor=#ffffff;fontSize=13;fontStyle=1;shadow=1;glass=0;arcSize=15;gradientColor=#0284C7;gradientDirection=south;" value="Resend&#xa;Email Service&#xa;&#xa;Order Confirmation" vertex="1">
          <mxGeometry height="80" width="140" x="1000" y="890" as="geometry" />
        </mxCell>
        <mxCell id="resend-badge" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=none;fontColor=#0EA5E9;fontSize=16;fontStyle=1;opacity=20;arcSize=50;" value="@" vertex="1">
          <mxGeometry height="24" width="24" x="1106" y="896" as="geometry" />
        </mxCell>
        <mxCell id="stripe" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#635BFF;strokeColor=none;fontColor=#ffffff;fontSize=13;fontStyle=1;shadow=1;glass=0;arcSize=15;gradientColor=#4F46E5;gradientDirection=south;" value="Stripe&#xa;Payments&#xa;&#xa;Checkout Sessions" vertex="1">
          <mxGeometry height="80" width="140" x="190" y="890" as="geometry" />
        </mxCell>
        <mxCell id="stripe-badge" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=none;fontColor=#635BFF;fontSize=16;fontStyle=1;opacity=20;arcSize=50;" value="$" vertex="1">
          <mxGeometry height="24" width="24" x="296" y="896" as="geometry" />
        </mxCell>
        <mxCell id="conn-lambda-resend" edge="1" parent="1" source="lambda" style="exitX=0.788;exitY=0.975;exitDx=0;exitDy=0;exitPerimeter=0;" target="resend">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="650" y="840" />
              <mxPoint x="1070" y="840" />
            </Array>
            <mxPoint x="650" y="750" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn-lambda-stripe" edge="1" parent="1" source="lambda" target="stripe">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="625" y="840" />
              <mxPoint x="550" y="840" />
              <mxPoint x="440" y="840" />
              <mxPoint x="260" y="840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="layer-support" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f1f5f9;strokeColor=#64748b;fontSize=14;fontStyle=1;verticalAlign=top;align=center;strokeWidth=2;" value="SUPPORTING SERVICES" vertex="1">
          <mxGeometry height="170" width="1270" x="80" y="1040" as="geometry" />
        </mxCell>
        <mxCell id="iam-analyzer" parent="1" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.identity_and_access_management;" value="IAM Access&#xa;Analyzer" vertex="1">
          <mxGeometry height="70" width="70" x="220" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="sns" parent="1" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=10;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sns;" value="SNS&#xa;Security Notifications&#xa;&#xa;Daily Alerts" vertex="1">
          <mxGeometry height="70" width="70" x="480" y="1080" as="geometry" />
        </mxCell>
        <mxCell id="conn-iam-analyzer-sns" edge="1" parent="1" source="iam-analyzer" style="dashed=1;strokeColor=#DD344C;" target="sns">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="conn-eventbridge-sns" edge="1" parent="1" source="eventbridge" style="dashed=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="515" y="740" />
              <mxPoint x="515" y="920" />
            </Array>
            <mxPoint x="460" y="740" as="sourcePoint" />
            <mxPoint x="514.9994736842104" y="1080" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="conn-cloudwatch-sns" edge="1" parent="1" source="cloudwatch" style="dashed=1;" target="sns">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="770" y="740" />
              <mxPoint x="770" y="1115" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
